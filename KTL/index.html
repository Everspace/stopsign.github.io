<!DOCTYPE html>
<html lang="en" style="height:100%;overflow:hidden;padding:10px;">
<head>
    <meta charset="UTF-8">
    <!-- to force a reload -->
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <title>KTL</title>
    <link rel="stylesheet" href="views/stylesheet.css">
</head>
<body id="theBody" oncontextmenu="return false;" style="padding:5px" class="medium">


<div id="windowElement" style="position:relative; width:100%; height:98%; border:2px solid; overflow:hidden;background-color:var(--world-1-bg-primary)">
    <div id="actionContainer" style="will-change: transform;position:absolute;">
        <span id="planeContainer0">
            <span id="lineContainer0"></span>
            <!-- Generated Actions go here -->
        </span>
        <span id="planeContainer1" style="display:none;">
            <span id="lineContainer1"></span>
        </span>
        <span id="planeContainer2" style="display:none;">
            <span id="lineContainer2"></span>
        </span>
        <span id="planeContainer3" style="display:none;">
            <span id="lineContainer3"></span>
        </span>
    </div>
</div>

<div id="helpMenuContainer"></div>

<div style="position:absolute;left:15px;top:21px;padding:0 10px;font-size:14px;color: var(--text-muted);pointer-events: none;">
    <div id="momentumDisplay" style="font-size:14px;background-color:var(--overlay-color);">
        Clock: <span id="secondsPerReset" style="display:inline-block;margin-right:10px;color: var(--text-primary);font-weight:bold;"></span>
        Total Momentum: <span id="totalMomentum" style="display:inline-block;color: var(--text-primary);width:50px;font-weight:bold;">1</span>
        <span id="legacyDisplay" style="display:none"> Total Legacy: <span id="legacy" style="color: var(--text-primary);font-weight:bold;"></span></span>
    </div>
    <div id="jobDisplay" style="display:none;font-size:14px;top:65px;background-color:var(--overlay-color);">
        Current Job: <span id="jobTitle" style="color: var(--text-primary);font-weight:bold;">Help Scott With Chores</span>. Wage: $<b><span id="jobWage" style="color: var(--text-primary);">1</span></b>
    </div>


    <span id="attDisplayShowButton" class="button" style="display:none;padding:5px;top:110px;left:388px;" onclick="statMenuHideButton()">Stats >></span>
    <div id="attDisplay" style="border: 1px solid var(--border-color);padding:10px;font-size:12px;background-color:var(--overlay-color);
        position:relative;min-height:200px;overflow-y:auto;overflow-x:hidden;display: inline-block;scrollbar-gutter:stable;">
        <span id="attDisplayHideButton" class="button" style="font-size:14px;position:absolute;padding:5px 8px;top:-3px;left:350px;" onclick="statMenuHideButton()"><<</span>
        <div style="font-size:12px;position:absolute;top:5px;left:5px;">Bonus = 10% per Stat.</div><br>
        <div class="title">Attributes</div>
    </div>
</div>

<span class="button" id='openUseAmuletButton' onclick="openUseAmuletMenu(true)"
      style="display:none;padding:8px 13px;top:22px;position:fixed;left:50%;transform:translateX(-50%);font-size:14px;">
    Use the Amulet!
</span>
<span class="button" id='openViewAmuletButton' onclick="openUseAmuletMenu(false)"
      style="display:none;padding:8px 13px;top:22px;position:fixed;left:50%;transform:translateX(-50%);font-size:14px;">
    View Amulet Upgrades!
</span>


<div id="bonusDisplayShowButton" class="button" onclick="bonusMenuHideButton()"
      style="position:absolute;padding:8px 13px;left:10px;bottom:50px;font-size:14px;">
    Offline >>
</div>

<div id="bonusDisplay" style="border: 1px solid var(--border-color);position:absolute;display:none;left:20px;bottom:55px;
    padding:10px;margin:5px;background-color:var(--overlay-color);color: var(--text-primary);width:200px">
    <span id="bonusDisplayHideButton" class="button" style="position:absolute;left:204px;top:-13px;padding:5px 8px;" onclick="bonusMenuHideButton()"><<</span>
    <span id="toggleBonusSpeedButton" class="button" onclick="toggleBonusSpeed()" style="background-color: red">Enable Bonus Speed</span><br><br>
    Bonus Time: <b><span id="bonusTime"></span></b><br>
    Bonus Speed:
    <label><input type="radio" onchange="changeBonusSpeed(2)" name="bonusSpeed" value="2x" checked> 2x</label>
    <label><input type="radio" onchange="changeBonusSpeed(5)" name="bonusSpeed" value="5x"> 5x</label>
    <label><input type="radio" onchange="changeBonusSpeed(20)" name="bonusSpeed" value="20x"> 20x</label><br>
</div>

<div id="footerContainer" style="position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;
    align-items:flex-end;height:120px;pointer-events:none;font-size:14px;color:var(--text-primary);">

    <div style="margin:20px 10px;pointer-events:auto;width:165px;">
        <span class="button" style="padding:8px 13px;" onclick="clickMenuButton()">Menu</span>
    </div>

    <div style="position:relative;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:flex-end;">
        <span class="button" style="padding:6px 20px;position: absolute;top:-35px;font-weight:bold;pointer-events:auto;" id='pauseButton' onclick="pauseGame()">|| Pause</span>

        <div style="display:flex;justify-content:center;gap:5px;font-size:18px;width:100%;">
            <div id="planeButton0" class="hyperVisible planeButton0" onclick="switchToPlane(0)" style="max-width:200px;height:60px;pointer-events:auto;
                border-bottom:none;border-top-left-radius:10px;border-top-right-radius:10px;
                display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;width:50%;">
                Brythal [1]
            </div>
            <div id="planeButton1" class="hyperVisible planeButton1" onclick="switchToPlane(1)" style="max-width:200px;height:60px;pointer-events:auto;
                border-bottom:none;border-top-left-radius:10px;border-top-right-radius:10px;
                display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;width:50%;">
                Kill the Lich [2]
            </div>
            <div id="planeButton2" class="hyperVisible planeButton2" onclick="switchToPlane(2)" style="max-width:200px;height:60px;pointer-events:auto;
                border-bottom:none;border-top-left-radius:10px;border-top-right-radius:10px;
                display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;width:50%;">
                Magic [3]
            </div>
            <div id="planeButton3" class="hyperVisible planeButton3" onclick="switchToPlane(3)" style="max-width:200px;height:60px;pointer-events:auto;
                border-bottom:none;border-top-left-radius:10px;border-top-right-radius:10px;
                display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;width:50%;">
                Astral Plane [4]
            </div>
        </div>
    </div>

    <div style="margin:10px;display:flex;gap:10px;font-weight:bold;font-size:16px;pointer-events:auto;width:145px;padding:0 10px;">
        <div class="button" id="zoomInButton" onclick="clickZoomIn()" style="padding:8px 13px;">+</div>
        <div class="button" id="centerScreenButton" onclick="actionTitleClicked('overclock');" style="padding:8px 13px;">o</div>
        <div class="button" id="zoomOutButton" onclick="clickZoomOut()" style="padding:8px 13px;">-</div>
    </div>

</div>


<!--    contains a repeat of total momentum, and an estimate of how many souls you will get. Change Overclock Target (Prestige).
When clicked, clears all actions, opens a new minigame with 3 visible actions - Overclock Targeting The Lich (it's a generator that does NOT grow), Kill Elite, and far away is Kill the Lich.
Unlock of the elite costs 1b, and gives 10 souls. Overclock targeting is tier 0. first level of the elite is like 100b.
After the unlock, a new button opens up - Use Amulet. This opens the reset menu with the reset button as well as all of the upgrades. Buy the upgrades, then "Use Amulet" which resets game back to start (but with upgrades!) -->


<!--
This wasn't right. Your ability was supposed to kill the lich, not die in the first fight! As you lay dying, the amulet
you had forgotten about in the heat of battle starts heating up. You become paralyzed as it activates, and your vision
dims as it thrums with stolen power.

It seems to reach out, and offer a question. -- what would you say to yourself, had he a second chance?
"He, not I?"
Silence. Very well. With your last breath, you craft a message. The amulet gathers it and burns the last of your life.
It continues, capturing fraction legacy of your fleeting soul and sending it in a direction eyes could not follow.<br><br>

... You set your ability's Target to itself, thinking yourself clever. Then, you pause, and frown - though the room is quiet,
 an echo of an echo adds itself the things you know like a blanket, laying on top of your potential in all the little ways your future's past has discovered.
 As you are coming to grips with thinking that the extra ability is not just a hallucination, you gain more evidence:
 A voice of utmost weariness -
 one that frightens you to hear, especially when you recognize the voice as your own, and again when you recognize the desperation -
 whisper to you, "If I just ...".

 And you think that you'll do just that. You'll be yourself, because who else could the advice be for? And all you need
 to do is follow your own voice's advice and everything will work out, right?

-->

<!--<div id="helpMenu" class='fullScreenGrey' style='display:none;' onclick='clickMenuButton()'>-->
<!--    <div style='background:#fff;padding:20px;border-radius:6px;max-width:400px;width:90%;text-align:center;position:relative;'>-->
<!--        <div id="help1">Actions and Momentum:-->
<!--            Momentum is generated from the Overclock action, and "flows" downstream to the further actions.-->
<!--            The primary resource of the action (momentum, mana, gold, etc.) is consumed at a specified rate per second on every action except Overclock.-->
<!--            This consumption rate for progress cannot be stopped.-->
<!--            You can only additionally add transferring the primary resource to a downstream action at a rate equal to your consumption rate, per downstream action.-->
<!--            For example, if an action is consuming .1% momentum per second, it means that 50 times a second, it takes 1/50th of .1% of your momentum and adds the same amount to progress.-->
<!--            If you are sending 100% to 2 downstream effects, it will be taking .1% (consumption) + .1% (stream1) + .1% (stream2) = .3% of current momentum per second (split into 50 parts).-->

<!--            When progress fills up to the progress max, you get the on complete effect, which includes exp. When exp fills up, you get a level, with the described effects.-->
<!--        </div>-->
<!--        <div id="help2">Stats-->
<!--            Each stat increases its bonus by 1%-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<div id="killTheLichMenu" class='fullScreenGrey' style="display:none" onClick='openKTLMenu()'>
    <div class='centerMenuBox' onClick="stopClicks(event)">
        <div class='menuTitle'>Kill the Lich!</div>
        <div class="menuSeparator"></div>
        <div id="ktlDynamicContent" class="dynamicContent">
            Info:<br>
            A new quick game is started with your total momentum across all actions as your only, non-renewable resource.
            You will try to get as much legacy as you can, which at first should be 10
            (unless you fell asleep and have the 1T needed for the next (not recommended)). You can reach 10 with 1 million,
            but if you're exact it might take a while, so the minimum of a reset is 1.1 million.<br>
            <div class="menuSeparator"></div>
            Story:<br>
            The lich is coming, and you know what you must do. As your Overclock ability grows in power,
            so too does its ability to achieve its Target. So far, it has been set to target itself, but now you know
            of a great evil on the horizon, and you can't sit still. With all the gathered momentum from your ability
            churning within itself, you shift that towardsa a new target: Kill the Lich.<br><br>
            At first, the loss of so much happening at once is overwhelming, and just as you did in the beginning: you allow
            the ability to guide your steps and purpose while you take a back seat and observe. It moves you with purpose -
            you travel to a hidden set of ancient ruins close by, and, after carefully disabling a number of deadly traps,
            you gather an amulet hidden in a deep puddle, that you immediately put around your neck.<br><br>

            Then, you go join the resistance trying to hold off the lich's hordes as they steadily approach. Before you know it,
            you're equipped with army-standard and facing an elite, who roars as he stomps toward you.
        </div>
        <input type="checkbox" id="confirmKTL"><label for="confirmKTL">Confirm (Reset requires >1.1 million total momentum)</label>
        <button class="continueButton" onclick="initializeKTL()">Reset now with <span id="totalMomentum2"></span> total momentum!</button>
    </div>
</div>

<div id="useAmuletMenu" class='fullScreenGrey' style="display:none" onClick='openUseAmuletMenu()'>
    <div class='centerMenuBox' onClick="stopClicks(event)">
        <div class='menuTitle'>Use the Amulet!<br>Legacy available: <b><span id="legacy2"></span></b></div>
        <div class="menuSeparator"></div>
        <div class="menuTitle" style="font-size:12px;text-align:center;">As you lay dying, your last thoughts are recorded by the amulet:<br><span style="font-size:16px;"><b>IF ONLY I COULD JUST...</b></span></div>
        <div class="menuSeparator"></div>
        <div id="amuletUpgrades" class="dynamicContent"></div>
        <div id="amuletEnabledContainer">
            <div class="menuSeparator"></div>
            It is recommended to spend your legacy before you start a new life.<br>
            <input type="checkbox" id="amuletConfirm"><label for="amuletConfirm">Confirm</label>
            <button class="continueButton" onclick="useAmulet()">Start Again</button>
            <div id="infoMenu" style="position:absolute;width:300px;top:150px;right:100%;display:none;background:var(--bg-secondary);border-radius:20px;border:2px solid #00cd41;padding:10px 0;">
                <div class="menuTitle" style="margin:auto;display:block;">Info Box</div>
                <div id="infoText">lorem ipsum or whatever</div>
                <div class='button' id='infoTextButton' onclick='buyUpgrade(selectedUpgrade.var, selectedUpgrade.num)' style="width:40%;padding:5px;font-size:14px;margin: 5px auto auto;">Buy</div>
            </div>
        </div>
    </div>
</div>

<div id="toastList" style="position:absolute;bottom:65px;right:20px;"></div>

</body>



<!-- Script outside of body to load and execute before page content is loaded -->
<script src="helpers/helpers.js"></script>
<script src="data/globalsAndInitial.js"></script>
<script src="driver.js"></script>
<script src="views/viewCreate.js"></script>
<script src="views/viewHelpers.js"></script>
<script src="views/viewUpdating.js"></script>
<script src="saving.js"></script>
<script src="actionData.js"></script>
<script src="events.js"></script>
<script src="engine.js"></script>
<script src="helpers/hotkeys.js"></script>
<script src="helpers/interval.js"></script>
<script src="data/textData.js"></script> <!-- must go after actionData-->
<script src="toasts.js"></script>
<script src="menu.js"></script>
<script src="ktl.js"></script>
<script src="upgradeData.js"></script>
<script>

    // multiCreateButton({label:"Cash", resource:"cash", buyFromFar:"cash",
    // option:{
    //     type:"exponential",
    //     buyCostMulti:1.5,
    //     gainMulti:1.1,
    //     initialCost:10,
    //     initialOutput:1
    // }, x:50, y:50});
    // (function (i, s, o, g, r, a, m) {
    //     i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
    //         (i[r].q = i[r].q || []).push(arguments)
    //     }, i[r].l = 1 * new Date(); a = s.createElement(o),
    //         m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentVarNode.insertBefore(a, m)
    // })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    //
    // ga('create', 'UA-60978932-1', 'auto');
    // ga('send', 'pageview');

</script>
<script>
    startGame();
</script>
<!--<div>Icons made by <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>-->
<!--<a href="http://www.onlinewebfonts.com">oNline Web Fonts</a>-->

</html>
